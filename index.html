<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Doe.App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Cabeçalho -->
    <header>
        <div class="logo">
            <img src="Imagens/Logo Doe + 3.png" alt="Logo Doe+">
        </div>
        <div class="search-container">
            <input type="text" id="searchInput" placeholder="Digite para pesquisar..." aria-label="Digite para pesquisar">
            <button id="searchButton" aria-label="Botão Pesquisar">Pesquisar</button>
            <button id="clearButton" aria-label="Botão Limpar">Limpar</button>
        </div>
        <div class="header-right">
            <button class="doe-agora" onclick="doarAgora()" aria-label="Doe Agora">Doe Agora</button>
        </div>
        <div class="container">
            <button class="menu-toggle" aria-label="Abrir Menu">&#9776;</button>
                <nav class="nav">
                    <a href="#campanhas" aria-label="Ir para campanhas">Campanhas</a>
                    <a href="#instituicoes" aria-label="Ir para instituições">Instituições</a>
                    <a href="#about" aria-label="Ir para Sobre">Sobre</a>
                    <a href="#contact" aria-label="Ir para Contato">Contato</a>
                </nav>
            <a href="#" id="back-to-top" class="top-link" aria-label="Voltar ao topo">&#9650;</a><a href="#" id="back-to-top" class="top-link" aria-label="Voltar ao topo">&#9650;</a>
        </div>
        <button class="home">
            <a class="home" href="login.html">Registro / Login</a>
        </button>
    </header>

    <!-- Carrossel de Campanhas -->
    <div id="campanhas" class="title">
        <h1>CAMPANHAS</h1>
    </div>
    <section class="carousel">
        <div class="carousel-item">
            <h2>Campanha do Agasalho</h2>
            <a href="campanhas.html">
            <img src="Imagens/Campanha do Agasalho.jpg" alt="Campanhas"></a>
            <p>Doação de roupas para quem precisa.</p>
        </div>
        <div class="carousel-item">
            <h2>Campanha do Alimento</h2>
            <a href="campanhas.html">
            <img src="Imagens/Campanha do Alimento.jpg" alt="Campanhas"></a>
            <p>Ajude com doações de alimentos.</p>
        </div>
        <div class="carousel-item">
            <h2>Campanha da Água</h2>
            <a href="campanhas.html">
            <img src="Imagens/Campanha da Água.jpg" alt="Campanhas"></a>
            <p>Doação de água mineral para regiões em necessidade.</p>
        </div>
    </section>

    <div id="instituicoes" class="title">
        <h1>Cadastre sua Instituição e faça participe de uma Campanha</h1>
    </div>

    <!-- Carrossel -->
    <section class="carousel">
      <div class="carousel-item" id="instituicoes">
          <img src="Imagens/Instituições.png" alt="Instituições">
          <h2>Instituições</h2>
          <p>Conheça as instituições que precisam da sua doação.</p>
          <button onclick="abrirInstituicoes()">Ver Instituições</button>
      </div>
      <div class="carousel-item" id="campanhas">
          <img src="Imagens/Campanhas.jpeg" alt="Campanhas">
          <h2>Campanhas</h2>
          <p>Veja as campanhas ativas e faça sua parte.</p>
          <button onclick="abrirCampanhas()">Ver Campanhas</button>
      </div>
    </section>

    <!-- Seção Sobre -->
    <div id="about" class="title">
        <h1>Sobre o Doe.App</h1>
    </div>
    <section id="about" class="about-section">
        <h3><p>O Doe.App é uma plataforma digital inovadora que conecta pessoas e empresas dispostas a ajudar a quem mais precisa por meio de campanhas de doações. Focada em promover a solidariedade, a plataforma facilita a conexão entre doadores — sejam pessoas físicas ou jurídicas — e instituições beneficentes de diversas áreas, como combate à fome, apoio a crianças, idosos, e iniciativas ambientais.</p>
        <p>Funcionalidades:</p>
        <p>Visualização de Campanhas de Doação: No Doe.App, é possível explorar uma lista de campanhas ativas criadas para arrecadar alimentos, roupas, recursos financeiros, entre outros itens. Cada campanha detalha o objetivo, a quantidade de doações já recebida e o prazo para contribuir. Isso permite que doadores escolham onde querem colaborar de acordo com suas causas de interesse.</p>
        <p>Instituições Beneficiadas: O site disponibiliza uma lista de instituições que serão diretamente beneficiadas pelas campanhas. As organizações são verificadas e categorizadas por área de atuação, garantindo que as doações cheguem às mãos certas. Além disso, cada instituição tem um perfil com informações sobre sua missão, projetos em andamento e impacto gerado.</p> 
        <p>Doadores: A plataforma valoriza a transparência e a criação de uma rede de apoio. Empresas podem se destacar como patrocinadoras de grandes campanhas, enquanto indivíduos podem contribuir de forma recorrente ou pontual.</p>  
        <p>O Doe.App visa criar uma experiência intuitiva, onde a solidariedade se torna prática e acessível. Com o compromisso de facilitar o processo de doação e garantir que todas as partes envolvidas tenham a visibilidade e o suporte necessários, a plataforma fortalece o laço entre quem deseja doar e quem precisa receber.</p></h3>
    </section>

<!-- Seção Contato -->
<div id="contact" class="contact-form">
    <h1>Contato</h1>
    <form id="contact-form">
        <div class="form-group">
            <label for="name">Nome</label>
            <input type="text" id="name" name="name" required>
        </div>
        <div class="form-group">
            <label for="email">E-mail</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
            <label for="subject">Assunto</label>
            <select id="subject" name="subject" required>
                <option value="" disabled selected>Selecione o assunto</option>
                <option value="login">Login</option>
                <option value="senha">Senha</option>
                <option value="doacao">Como Doar</option>
                <option value="cadastro">Como cadastrar sua Instituição</option>
                <option value="campanha">Como cadastrar sua campanha</option>
                <option value="duvidas">Dúvidas</option>
                <option value="elogios">Elogios</option>
                <option value="sugestoes">Sugestões</option>
            </select>
        </div>
        <div class="form-group">
            <label for="message">Mensagem</label>
            <textarea id="message" name="message" rows="5" required></textarea>
        </div>
        <button type="submit">Enviar</button>
    </form>
</div>

    <!-- Rodapé -->
    <footer>
        <a href="squad11.html">Squad 11 © 2024. Todos os direitos reservados.</a>
        <div class="contato">
            <p>Endereço: Av. Murilo Dantas, 300 - Farolândia, Aracaju - SE, CEP: 49.032-490</p>
            <p>E-mail: contato@doeapp.com</p>
        </div>
    </footer>

    <!-- Código JavaScript embutido -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.querySelector('.nav');

            menuToggle.addEventListener('click', () => {
                navMenu.classList.toggle('active'); // Adiciona ou remove a classe active
            });
        });

        document.getElementById("searchButton").addEventListener("click", () => {
            const searchInput = document.getElementById("searchInput").value.toLowerCase();
            const results = document.getElementById("results");

            // Limpar resultados anteriores
            results.innerHTML = "";

            // Filtrar os itens com base no valor de entrada
            const filteredItems = items.filter(item =>
                item.toLowerCase().includes(searchInput)
            );

            // Exibir resultados
            if (filteredItems.length > 0) {
                filteredItems.forEach(item => {
                    const li = document.createElement("li");
                    li.textContent = item;
                    results.appendChild(li);
                });
            } else {
                results.innerHTML = "<li>Nenhum resultado encontrado</li>";
            }
        });

        // Funções para navegação
        function abrirInstituicoes() {
            window.location.href = "instituicoes.html";
        }

        function abrirCampanhas() {
            window.location.href = "campanhas.html";
        }

        // Funções para listas dinâmicas
        let instituicoes = [];
        document.getElementById('instituicaoForm')?.addEventListener('submit', function(event) {
            event.preventDefault();
            const nomeInstituicao = document.getElementById('nomeInstituicao').value;
            instituicoes.push(nomeInstituicao);
            atualizarListaInstituicoes();
            alert('Instituição cadastrada com sucesso!');
        });

        function atualizarListaInstituicoes() {
            const lista = document.getElementById('listaInstituicoes');
            lista.innerHTML = '';
            instituicoes.forEach((instituicao, index) => {
                const li = document.createElement('li');
                li.textContent = `${index + 1}. ${instituicao}`;
                lista.appendChild(li);
            });
        }

        let campanhas = [];
        document.getElementById('campanhaForm')?.addEventListener('submit', function(event) {
            event.preventDefault();
            const nomeCampanha = document.getElementById('nomeCampanha').value;
            campanhas.push(nomeCampanha);
            atualizarListaCampanhas();
            alert('Campanha cadastrada com sucesso!');
        });

        function atualizarListaCampanhas() {
            const lista = document.getElementById('listaCampanhas');
            lista.innerHTML = '';
            campanhas.forEach((campanha, index) => {
                const li = document.createElement('li');
                li.textContent = `${index + 1}. ${campanha}`;
                lista.appendChild(li);
            });
        }

        // Função de navegação para a página inicial
        function voltarHome() {
            window.location.href = "index.html";
        }

        // Função de carregamento de campanha
        function carregarCampanha() {
            const nome = localStorage.getItem('campanhaNome');
            const imagem = localStorage.getItem('campanhaImagem');
            const descricao = localStorage.getItem('campanhaDescricao');

            document.getElementById('campanhaNome').textContent = nome;
            document.getElementById('campanhaImagem').src = imagem;
            document.getElementById('campanhaDescricao').textContent = descricao;
        }

        function doarAgora() {
            const usuarioLogado = localStorage.getItem('usuarioLogado');
            if (!usuarioLogado) {
                window.location.href = 'login.html';
            } else {
                document.getElementById('doacaoForm').style.display = 'block';
            }
        }
        
        document.getElementById("contact-form").addEventListener("submit", function (event) {
        const name = document.getElementById("name").value.trim();
        const email = document.getElementById("email").value.trim();
        const message = document.getElementById("message").value.trim();

        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        let hasError = false;

        if (name === "") {
            document.querySelector("#name + .error-message").style.display = "block";
            hasError = true;
        } else {
            document.querySelector("#name + .error-message").style.display = "none";
        }

        if (!emailPattern.test(email)) {
            document.querySelector("#email + .error-message").style.display = "block";
            hasError = true;
        } else {
            document.querySelector("#email + .error-message").style.display = "none";
        }

        if (message === "") {
            document.querySelector("#message + .error-message").style.display = "block";
            hasError = true;
        } else {
            document.querySelector("#message + .error-message").style.display = "none";
        }

        if (hasError) {
            event.preventDefault();
        }
        });

        document.querySelector('.menu-toggle').addEventListener('click', function() {
        document.querySelector('.nav').classList.toggle('active');
        });

        document.addEventListener("DOMContentLoaded", () => {
        const backToTop = document.getElementById("back-to-top");
        let isScrolling;

        // Mostrar o botão de topo após scroll
        window.addEventListener("scroll", () => {
            clearTimeout(isScrolling);
            isScrolling = setTimeout(() => {
                if (window.scrollY > 100) {
                    backToTop.style.display = "block";
                } else {
                    backToTop.style.display = "none";
                }
            }, 200);
        });

        // Validação em tempo real no formulário
        document.getElementById("contact-form").addEventListener("submit", (event) => {
            const name = document.getElementById("name");
            const email = document.getElementById("email");
            const message = document.getElementById("message");

            let hasError = false;

            if (!name.value.trim()) {
                name.nextElementSibling.style.display = "block";
                hasError = true;
            } else {
                name.nextElementSibling.style.display = "none";
            }

            if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value.trim())) {
                email.nextElementSibling.style.display = "block";
                hasError = true;
            } else {
                email.nextElementSibling.style.display = "none";
            }

            if (!message.value.trim()) {
                message.nextElementSibling.style.display = "block";
                hasError = true;
            } else {
                message.nextElementSibling.style.display = "none";
            }

            if (hasError) event.preventDefault();
        });
    });
    
    document.querySelector('.menu-toggle').addEventListener('click', function() {
    document.querySelector('.nav').classList.toggle('active');
    });


    /* Acões do Botão Pesquisar e Limpar */
    let originalHTML = {};

    // Armazena o HTML original de todos os elementos no início
    function storeOriginalContent() {
        originalHTML = {};
        const allElements = document.querySelectorAll("body *");
        allElements.forEach((element, index) => {
            if (element.childNodes.length > 0 && element.nodeName !== "SCRIPT" && element.nodeName !== "STYLE") {
                originalHTML[index] = element.innerHTML;
            }
        });
    }

    // Restaura o HTML original para todos os elementos
    function restoreOriginalContent() {
        const allElements = document.querySelectorAll("body *");
        allElements.forEach((element, index) => {
            if (originalHTML[index]) {
                element.innerHTML = originalHTML[index];
            }
        });
    }

    // Realça o texto em todo o site
    function highlightText(searchTerm) {
        restoreOriginalContent(); // Limpa realces anteriores
        const allElements = document.querySelectorAll("body *");
        allElements.forEach((element) => {
            if (element.childNodes.length > 0 && element.nodeName !== "SCRIPT" && element.nodeName !== "STYLE") {
                element.innerHTML = element.innerHTML.replace(
                    new RegExp(`(${searchTerm})`, "gi"),
                    `<span class="highlight">$1</span>`
                );
            }
        });
    }

    // Evento de pesquisa
    document.getElementById("searchButton").addEventListener("click", () => {
        const searchInput = document.getElementById("searchInput").value.trim();
        if (searchInput) {
            highlightText(searchInput);
        }
    });

    // Evento de limpar
    document.getElementById("clearButton").addEventListener("click", () => {
        restoreOriginalContent();
        document.getElementById("searchInput").value = ""; // Limpa o campo de pesquisa
    });

    // Inicializa o armazenamento do conteúdo original ao carregar a página
    document.addEventListener("DOMContentLoaded", storeOriginalContent);
    </script>
</body>
</html>
